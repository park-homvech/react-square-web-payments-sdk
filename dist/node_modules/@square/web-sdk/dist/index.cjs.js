"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var p=(e,r,t)=>new Promise((n,i)=>{var d=o=>{try{a(t.next(o))}catch(u){i(u)}},c=o=>{try{a(t.throw(o))}catch(u){i(u)}},a=o=>o.done?n(o.value):Promise.resolve(o.value).then(d,c);a((t=t.apply(e,r)).next())});function w(e){return document.querySelector(`script[src="${e}"]`)}function h(e){let r=document.head||document.body;if(!r)throw new Error("Square.js requires a <body> or <head> element.");let t=document.createElement("script");return t.src=e,r.appendChild(t),t}var s=null;function m(e){return s!==null||(s=new Promise((r,t)=>{if(typeof window>"u"){r(null);return}if(window.Square){r(window.Square);return}try{let n=w(e);n||(n=h(e)),n.addEventListener("load",()=>{window.Square?r(window.Square):t(new Error("Square.js failed to load properly."))}),n.addEventListener("error",()=>{t(new Error("Error occurred while loading Square.js"))})}catch(n){t(n)}})),s}var f="v1",l=class extends Error{constructor(e="The Payment 'applicationId' option is not in the correct format."){super(e),this.name="InvalidApplicationIdError",Object.setPrototypeOf(this,l.prototype)}};function y(e){let r="";if(e.startsWith("sq0idp-")&&(r="https://web.squarecdn.com/"),e.startsWith("sandbox-sq0idb-")&&(r="https://sandbox.web.squarecdn.com/"),r.length===0)throw new l;return r+=`${f}/square.js`,r}function q(e,r,t){return p(this,null,function*(){let n=t?.scriptSrc!==void 0?t.scriptSrc:y(e),i=yield m(n);return i===null?null:i.payments(e,r)})}exports.payments=q;
//# sourceMappingURL=index.cjs.js.map
